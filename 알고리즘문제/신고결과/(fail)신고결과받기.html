<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    const id_list = ["muzi", "frodo", "apeach", "neo"];
    const report = [
      "muzi frodo",
      "apeach frodo",
      "frodo neo",
      "muzi neo",
      "apeach muzi",
    ];
    const k = 2;

    let reportedUser = [];
    let answer = [];

    function solution(id_list, report, k) {
      const reportArr = new Set(report);
      const arr = Array.from(reportArr);

      let reportResult = {};

      id_list.forEach((user) => {
        let userReport = [];

        for (let i = 0; i < arr.length; i++) {
          const reportData = report[i].split(" ");
          console.log(reportData);
          userReport.push(reportData[1]);
          reportResult[user] = userReport;

          console.log(reportResult);
        }
      }); //포이치 끝
      console.log(reportResult);

      const reportedUserArr = reportedUser.sort();
      let reportedUserObj = {};
      let count = 0;
      for (let i = 0; i < reportedUserArr.length; i++) {
        const reportedUserName = reportedUserArr[i];
        if (reportedUserArr[i] === reportedUserArr[i - 1]) {
          reportedUserObj[reportedUserArr[i]].count += 1;
          if (reportedUserObj[reportedUserArr[i]].count === k) {
            reportedUserObj[reportedUserArr[i]].reportedUser = true;
            reportResult[reportedUserArr[i]].reportedUser = true;
          }
        } else {
          reportedUserObj[reportedUserName] = { count: 1 };
        }
      }

      // id_list.forEach((user, idx) => {
      //   let count = 0;

      //   const userReportArr = reportResult[user].userReport;
      //   userReportArr.forEach((reported) => {
      //     if (reportResult[reported]?.reportedUser) {
      //       count++;
      //     }
      //   });
      //   answer[idx] = count;
      // });
      return answer;
    }
    console.log(solution(id_list, report, k));
  </script>
</html>
